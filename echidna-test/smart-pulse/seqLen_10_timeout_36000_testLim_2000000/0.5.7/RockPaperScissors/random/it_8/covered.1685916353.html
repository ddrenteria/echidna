<style> code { white-space: pre-wrap; display: block; background-color: #eee; }.executed { background-color: #afa; }.reverted { background-color: #ffa; }.unexecuted { background-color: #faa; }.neutral { background-color: #eee; }</style><b>/home/zhaeres/Desktop/Tesis/ours/echidna/smart-pulse/0.5.7/RockPaperScissors.sol</b>
<code>
  1 |     | <span class='neutral'>pragma solidity ^0.5.0;</span>
  2 |     | <span class='neutral'></span>
  3 | *   | <span class='executed'>contract RockPaperScissors {</span>
  4 |     | <span class='neutral'>    address payable player1;</span>
  5 |     | <span class='neutral'>    address payable player2;</span>
  6 |     | <span class='neutral'>    address payable owner;</span>
  7 |     | <span class='neutral'></span>
  8 |     | <span class='unexecuted'>    int p1Choice = -1;</span>
  9 |     | <span class='unexecuted'>    int p2Choice = -1;</span>
 10 |     | <span class='neutral'>    //mapping(uint =&gt; mapping(uint =&gt; uint)) payoffMatrix;</span>
 11 |     | <span class='neutral'>    uint[3][3] payoffMatrix;</span>
 12 |     | <span class='neutral'></span>
 13 |     | <span class='unexecuted'>    constructor() public {</span>
 14 |     | <span class='unexecuted'>        player1 = address(0x10000);</span>
 15 |     | <span class='unexecuted'>        player2 = address(0x20000);</span>
 16 |     | <span class='unexecuted'>        owner = address(0x30000);</span>
 17 |     | <span class='neutral'></span>
 18 |     | <span class='neutral'>        //Rock - 0</span>
 19 |     | <span class='neutral'>        //Paper - 1</span>
 20 |     | <span class='neutral'>        //Scissors - 2</span>
 21 |     | <span class='unexecuted'>        payoffMatrix[0][0] = 0;</span>
 22 |     | <span class='unexecuted'>        payoffMatrix[0][1] = 2;</span>
 23 |     | <span class='unexecuted'>        payoffMatrix[0][2] = 1;</span>
 24 |     | <span class='unexecuted'>        payoffMatrix[1][0] = 1;</span>
 25 |     | <span class='unexecuted'>        payoffMatrix[1][1] = 0;</span>
 26 |     | <span class='unexecuted'>        payoffMatrix[1][2] = 2;</span>
 27 |     | <span class='unexecuted'>        payoffMatrix[2][0] = 2;</span>
 28 |     | <span class='unexecuted'>        payoffMatrix[2][1] = 1;</span>
 29 |     | <span class='unexecuted'>        payoffMatrix[2][2] = 0;</span>
 30 |     | <span class='neutral'>    }</span>
 31 |     | <span class='neutral'></span>
 32 | *   | <span class='executed'>    function choicePlayer1(int choice) public {</span>
 33 | *   | <span class='executed'>        if(msg.sender == player1) {</span>
 34 | *   | <span class='executed'>            if(p1Choice == -1 &amp;&amp; choice &gt;= 0 &amp;&amp; choice &lt;= 2) {</span>
 35 | *   | <span class='executed'>                p1Choice = choice;</span>
 36 |     | <span class='neutral'>            }</span>
 37 |     | <span class='neutral'>            else {</span>
 38 | *r  | <span class='executed'>                revert();</span>
 39 |     | <span class='neutral'>            }</span>
 40 |     | <span class='neutral'>        }</span>
 41 |     | <span class='neutral'>        else {</span>
 42 | *r  | <span class='executed'>            revert();</span>
 43 |     | <span class='neutral'>        }</span>
 44 |     | <span class='neutral'>    }</span>
 45 |     | <span class='neutral'></span>
 46 | *   | <span class='executed'>    function choicePlayer2(int choice) public {</span>
 47 | *   | <span class='executed'>        if(msg.sender == player2) {</span>
 48 | *   | <span class='executed'>            if(p2Choice == -1 &amp;&amp; choice &gt;= 0 &amp;&amp; choice &lt;= 2) {</span>
 49 | *   | <span class='executed'>                p2Choice = choice;</span>
 50 |     | <span class='neutral'>            }</span>
 51 |     | <span class='neutral'>            else {</span>
 52 | *r  | <span class='executed'>                revert();</span>
 53 |     | <span class='neutral'>            }</span>
 54 |     | <span class='neutral'>        }</span>
 55 |     | <span class='neutral'>        else {</span>
 56 | *r  | <span class='executed'>            revert();</span>
 57 |     | <span class='neutral'>        }</span>
 58 |     | <span class='neutral'>    }</span>
 59 |     | <span class='neutral'></span>
 60 | *   | <span class='executed'>    function determineWinner() public {</span>
 61 | *   | <span class='executed'>        if(p1Choice != -1 &amp;&amp; p2Choice != -1) {</span>
 62 | *   | <span class='executed'>            uint winner = payoffMatrix[uint(p1Choice)][uint(p2Choice)];</span>
 63 | *   | <span class='executed'>            if(winner == 1) {</span>
 64 | *   | <span class='executed'>                player1.transfer(address(this).balance);</span>
 65 |     | <span class='neutral'>            }</span>
 66 | *   | <span class='executed'>            else if(winner == 2) {</span>
 67 | *   | <span class='executed'>                player2.transfer(address(this).balance);</span>
 68 |     | <span class='neutral'>            }</span>
 69 |     | <span class='neutral'>            else {</span>
 70 | *   | <span class='executed'>                owner.transfer(address(this).balance);</span>
 71 |     | <span class='neutral'>            }</span>
 72 |     | <span class='neutral'>        }</span>
 73 |     | <span class='neutral'>        else {</span>
 74 | *r  | <span class='executed'>            revert();</span>
 75 |     | <span class='neutral'>        }</span>
 76 |     | <span class='neutral'>    }</span>
 77 |     | <span class='neutral'>}</span>
 78 |     | <span class='neutral'></span>

</code>
<br />

